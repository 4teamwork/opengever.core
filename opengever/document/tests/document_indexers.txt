Check the indexers of a document
================================

imports and standard stuff
    >>> from plone.dexterity.utils import createContentInContainer
    >>> from zope.component import getUtility
    >>> from plone.app.testing import TEST_USER_NAME, setRoles
    >>> from opengever.document.document import document_author, sortable_author, document_date
    >>> import datetime

    >>> portal = layer['portal']


Create a document and check the indexers document_author and sortable_author: 

    >>> doc1 = createContentInContainer(portal, 'opengever.document.document', 
    ...     title=u"Doc One", document_author=u'Hugo Boss', document_date=datetime.date(2011,1,1))
    >>> doc1
    <Document at /plone/document-1>
    >>> document_author(doc1)()
    'Hugo Boss'
    >>> sortable_author(doc1)()
    u'Hugo Boss'

Second document without a author

    >>> doc2 = createContentInContainer(portal, 'opengever.document.document', title=u"Doc Two")
    >>> doc2
    <Document at /plone/document-2>
    >>> document_author(doc2)() == None
    True
    >>> sortable_author(doc2)()
    ''


Should also work with non-ascii characters

    >>> doc3 = createContentInContainer(portal, 'opengever.document.document', title=u"Doc One", document_author=u'H\xfcgo B\xf6ss')
    >>> doc3
    <Document at /plone/document-3>
    >>> document_author(doc3)()
    'H\xc3\xbcgo B\xc3\xb6ss'

    >>> sortable_author(doc3)()
    u'H\xfcgo B\xf6ss'


check also the docuent_date indexer, should also work with No value:
    >>> document_date(doc1)() == datetime.date (2011,1,1)
    True

    >>> document_date(doc2)() == None
    True

