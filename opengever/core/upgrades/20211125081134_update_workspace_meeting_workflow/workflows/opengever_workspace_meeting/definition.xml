<?xml version='1.0' encoding='UTF-8'?>
<dc-workflow workflow_id="opengever_workspace_meeting" title="Workspace meeting workflow" description="" initial_state="opengever_workspace_meeting--STATUS--active" state_variable="review_state" manager_bypass="True">
  <permission>Access contents information</permission>
  <permission>Add portal content</permission>
  <permission>CMFEditions: Access previous versions</permission>
  <permission>Edit date of cassation</permission>
  <permission>List folder contents</permission>
  <permission>Modify constrain types</permission>
  <permission>Modify portal content</permission>
  <permission>Modify view template</permission>
  <permission>Portlets: Manage portlets</permission>
  <permission>Sharing page: Delegate Administrator role</permission>
  <permission>Sharing page: Delegate CommitteeAdministrator role</permission>
  <permission>Sharing page: Delegate CommitteeMember role</permission>
  <permission>Sharing page: Delegate CommitteeResponsible role</permission>
  <permission>Sharing page: Delegate Contributor role</permission>
  <permission>Sharing page: Delegate DossierManager role</permission>
  <permission>Sharing page: Delegate Editor role</permission>
  <permission>Sharing page: Delegate MeetingUser role</permission>
  <permission>Sharing page: Delegate Publisher role</permission>
  <permission>Sharing page: Delegate Reader role</permission>
  <permission>Sharing page: Delegate Reviewer role</permission>
  <permission>Sharing page: Delegate WorkspacesCreator role</permission>
  <permission>Sharing page: Delegate WorkspacesUser role</permission>
  <permission>View</permission>
  <permission>opengever.contact: Add contactfolder</permission>
  <permission>opengever.disposition: Add disposition</permission>
  <permission>opengever.disposition: Download SIP Package</permission>
  <permission>opengever.document: Modify archival file</permission>
  <permission>opengever.dossier: Destroy dossier</permission>
  <permission>opengever.dossier: Protect dossier</permission>
  <permission>opengever.inbox: Add Inbox</permission>
  <permission>opengever.meeting: Add CommitteeContainer</permission>
  <permission>opengever.private: Add private folder</permission>
  <permission>opengever.private: Add private root</permission>
  <permission>opengever.repository: Add repositoryfolder</permission>
  <permission>opengever.repository: Add repositoryroot</permission>
  <permission>opengever.repository: Unlock Reference Prefix</permission>
  <permission>opengever.workspace: Delete Workspace Meeting Agenda Items</permission>
  <permission>plone.portlet.collection: Add collection portlet</permission>
  <permission>plone.portlet.static: Add static portlet</permission>
  <state state_id="opengever_workspace_meeting--STATUS--active" title="Active">
    <exit-transition transition_id="opengever_workspace_meeting--TRANSITION--close--active_closed"/>
    <permission-map name="Access contents information" acquired="False">
      <permission-role>Administrator</permission-role>
      <permission-role>Manager</permission-role>
      <permission-role>WorkspaceAdmin</permission-role>
      <permission-role>WorkspaceGuest</permission-role>
      <permission-role>WorkspaceMember</permission-role>
    </permission-map>
    <permission-map name="Add portal content" acquired="True"/>
    <permission-map name="CMFEditions: Access previous versions" acquired="False">
      <permission-role>Administrator</permission-role>
      <permission-role>Manager</permission-role>
      <permission-role>WorkspaceAdmin</permission-role>
      <permission-role>WorkspaceGuest</permission-role>
      <permission-role>WorkspaceMember</permission-role>
    </permission-map>
    <permission-map name="Edit date of cassation" acquired="False"/>
    <permission-map name="List folder contents" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Modify constrain types" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Modify portal content" acquired="True"/>
    <permission-map name="Modify view template" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Portlets: Manage portlets" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Sharing page: Delegate Administrator role" acquired="False"/>
    <permission-map name="Sharing page: Delegate CommitteeAdministrator role" acquired="False"/>
    <permission-map name="Sharing page: Delegate CommitteeMember role" acquired="False"/>
    <permission-map name="Sharing page: Delegate CommitteeResponsible role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Contributor role" acquired="False"/>
    <permission-map name="Sharing page: Delegate DossierManager role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Editor role" acquired="False"/>
    <permission-map name="Sharing page: Delegate MeetingUser role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Publisher role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Reader role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Reviewer role" acquired="False"/>
    <permission-map name="Sharing page: Delegate WorkspacesCreator role" acquired="False"/>
    <permission-map name="Sharing page: Delegate WorkspacesUser role" acquired="False"/>
    <permission-map name="View" acquired="False">
      <permission-role>Administrator</permission-role>
      <permission-role>Manager</permission-role>
      <permission-role>WorkspaceAdmin</permission-role>
      <permission-role>WorkspaceGuest</permission-role>
      <permission-role>WorkspaceMember</permission-role>
    </permission-map>
    <permission-map name="opengever.contact: Add contactfolder" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.disposition: Add disposition" acquired="False"/>
    <permission-map name="opengever.disposition: Download SIP Package" acquired="False"/>
    <permission-map name="opengever.document: Modify archival file" acquired="False"/>
    <permission-map name="opengever.dossier: Destroy dossier" acquired="False"/>
    <permission-map name="opengever.dossier: Protect dossier" acquired="False"/>
    <permission-map name="opengever.inbox: Add Inbox" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.meeting: Add CommitteeContainer" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.private: Add private folder" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.private: Add private root" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.repository: Add repositoryfolder" acquired="False"/>
    <permission-map name="opengever.repository: Add repositoryroot" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.repository: Unlock Reference Prefix" acquired="False"/>
    <permission-map name="opengever.workspace: Delete Workspace Meeting Agenda Items" acquired="True"/>
    <permission-map name="plone.portlet.collection: Add collection portlet" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="plone.portlet.static: Add static portlet" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
  </state>
  <state state_id="opengever_workspace_meeting--STATUS--closed" title="Closed">
    <exit-transition transition_id="opengever_workspace_meeting--TRANSITION--reopen--closed_active"/>
    <permission-map name="Access contents information" acquired="False">
      <permission-role>Administrator</permission-role>
      <permission-role>Manager</permission-role>
      <permission-role>WorkspaceAdmin</permission-role>
      <permission-role>WorkspaceGuest</permission-role>
      <permission-role>WorkspaceMember</permission-role>
    </permission-map>
    <permission-map name="Add portal content" acquired="False"/>
    <permission-map name="CMFEditions: Access previous versions" acquired="False">
      <permission-role>Administrator</permission-role>
      <permission-role>Manager</permission-role>
      <permission-role>WorkspaceAdmin</permission-role>
      <permission-role>WorkspaceGuest</permission-role>
      <permission-role>WorkspaceMember</permission-role>
    </permission-map>
    <permission-map name="Edit date of cassation" acquired="False"/>
    <permission-map name="List folder contents" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Modify constrain types" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Modify portal content" acquired="False"/>
    <permission-map name="Modify view template" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Portlets: Manage portlets" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Sharing page: Delegate Administrator role" acquired="False"/>
    <permission-map name="Sharing page: Delegate CommitteeAdministrator role" acquired="False"/>
    <permission-map name="Sharing page: Delegate CommitteeMember role" acquired="False"/>
    <permission-map name="Sharing page: Delegate CommitteeResponsible role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Contributor role" acquired="False"/>
    <permission-map name="Sharing page: Delegate DossierManager role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Editor role" acquired="False"/>
    <permission-map name="Sharing page: Delegate MeetingUser role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Publisher role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Reader role" acquired="False"/>
    <permission-map name="Sharing page: Delegate Reviewer role" acquired="False"/>
    <permission-map name="Sharing page: Delegate WorkspacesCreator role" acquired="False"/>
    <permission-map name="Sharing page: Delegate WorkspacesUser role" acquired="False"/>
    <permission-map name="View" acquired="False">
      <permission-role>Administrator</permission-role>
      <permission-role>Manager</permission-role>
      <permission-role>WorkspaceAdmin</permission-role>
      <permission-role>WorkspaceGuest</permission-role>
      <permission-role>WorkspaceMember</permission-role>
    </permission-map>
    <permission-map name="opengever.contact: Add contactfolder" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.disposition: Add disposition" acquired="False"/>
    <permission-map name="opengever.disposition: Download SIP Package" acquired="False"/>
    <permission-map name="opengever.document: Modify archival file" acquired="False"/>
    <permission-map name="opengever.dossier: Destroy dossier" acquired="False"/>
    <permission-map name="opengever.dossier: Protect dossier" acquired="False"/>
    <permission-map name="opengever.inbox: Add Inbox" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.meeting: Add CommitteeContainer" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.private: Add private folder" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.private: Add private root" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.repository: Add repositoryfolder" acquired="False"/>
    <permission-map name="opengever.repository: Add repositoryroot" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="opengever.repository: Unlock Reference Prefix" acquired="False"/>
    <permission-map name="opengever.workspace: Delete Workspace Meeting Agenda Items" acquired="False"/>
    <permission-map name="plone.portlet.collection: Add collection portlet" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="plone.portlet.static: Add static portlet" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
  </state>
  <transition new_state="opengever_workspace_meeting--STATUS--closed" title="close" transition_id="opengever_workspace_meeting--TRANSITION--close--active_closed" after_script="" before_script="" trigger="USER">
    <action category="workflow" icon="" url="%(content_url)s/content_status_modify?workflow_action=opengever_workspace_meeting--TRANSITION--close--active_closed">close</action>
    <guard>
      <guard-role>Administrator</guard-role>
      <guard-role>WorkspaceAdmin</guard-role>
      <guard-role>WorkspaceMember</guard-role>
    </guard>
  </transition>
  <transition new_state="opengever_workspace_meeting--STATUS--active" title="reopen" transition_id="opengever_workspace_meeting--TRANSITION--reopen--closed_active" after_script="" before_script="" trigger="USER">
    <action category="workflow" icon="" url="%(content_url)s/content_status_modify?workflow_action=opengever_workspace_meeting--TRANSITION--reopen--closed_active">reopen</action>
    <guard>
      <guard-role>Administrator</guard-role>
      <guard-role>WorkspaceAdmin</guard-role>
    </guard>
  </transition>
  <variable variable_id="action" for_catalog="False" for_status="True" update_always="True">
    <description>Previous transition</description>
    <default>
        <expression>transition/getId|nothing</expression>
    </default>
    <guard/>
</variable>
  <variable variable_id="actor" for_catalog="False" for_status="True" update_always="True">
<description>The ID of the user who performed the previous transition</description>
    <default>
        <expression>user/getId</expression>
    </default>
    <guard/>
</variable>
  <variable variable_id="comments" for_catalog="False" for_status="True" update_always="True">
    <description>Comment about the last transition</description>
    <default>
        <expression>python:state_change.kwargs.get('comment', '')</expression>
    </default>
    <guard/>
</variable>
  <variable variable_id="review_history" for_catalog="False" for_status="False" update_always="False">
    <description>Provides access to workflow history</description>
    <default>
        <expression>state_change/getHistory</expression>
    </default>
    <guard>
        <guard-permission>Request review</guard-permission>
        <guard-permission>Review portal content</guard-permission>
    </guard>
</variable>
  <variable variable_id="time" for_catalog="False" for_status="True" update_always="True">
    <description>When the previous transition was performed</description>
    <default>
        <expression>state_change/getDateTime</expression>
    </default>
    <guard/>
</variable>
</dc-workflow>
