[transmogrifier]
pipeline =
    ldapsource
    active-inserter
    import-stamp
    mapping
    printer
    sqlinserter
    set-inactiv


[ldapsource]
blueprint=opengever.ogds.base.sections.ldapsource
dsn = ldap://ldap.4teamwork.ch
bind_dn =cn=OGExporter,ou=OpenGever,dc=4teamwork,dc=ch
bind_pw =demo10
filter =(| (objectclass=inetOrgPerson) (objectclass=organizationalPerson) (objectclass=person))
base_dn =ou=Users,ou=OpenGever,dc=4teamwork,dc=ch
mapping=python:{'uid':'userid', 'givenName':'firstname', 'sn':'lastname', 'mail':'email', 'labeledURI':'url', 'telephoneNumber':'phone_number', 'mobile':'phone_mobile', 'street':'address1', 'postalCode':'zip_code', 'l':'city'}

[active-inserter]
blueprint = collective.transmogrifier.sections.inserter
key = string:active
value = python:1

[import-stamp]
blueprint = collective.transmogrifier.sections.inserter
key = string:import_stamp
value = python:'2010-10-13T12:38:40.717193'

[mapping]
blueprint = collective.transmogrifier.sections.manipulator
keys =string:givenName
destination =string:firstname

[printer]
blueprint = collective.transmogrifier.sections.tests.pprinter

[sqlinserter]
blueprint = opengever.konsulmigration.sections.sqlinserter
dsn=mysql://opengever:opengever@localhost/opengever?charset=utf8
table=users
unique_key=userid

[set-inactiv]
blueprint= opengever.ogds.base.sections.inactiveuser
dsn=mysql://opengever:opengever@localhost/opengever?charset=utf8
table=users
stamp_key=import_stamp