Contact
======= 

blba bla bla

do some imports and configurations
    >>> from plone.testing.z2 import Browser
    >>> from plone.app.testing import TEST_USER_NAME
    >>> from plone.app.testing import TEST_USER_PASSWORD
    >>> from plone.app.testing import setRoles
    >>> from plone.dexterity.utils import createContentInContainer

    >>> app = layer['app']
    >>> portal = layer['portal']

browser test
    >>> browser = Browser(app)
    >>> browser.handleErrors = False

    >>> browser.open(portal.absolute_url() + '/login_form')
    >>> browser.getControl(name='__ac_name').value = TEST_USER_NAME
    >>> browser.getControl(name='__ac_password').value = TEST_USER_PASSWORD
    >>> browser.getControl(name='submit').click()

    >>> browser.open(portal.portal_url())
    >>> 'test_user_1' in browser.contents
    True

create contact folder

    >>> browser.open('http://nohost/plone/folder_factories')
    >>> browser.getControl('ContactFolder').click()
    >>> browser.getControl('Add').click()
    >>> browser.url
    'http://nohost/plone/++add++opengever.contact.contactfolder'
    
    >>> browser.getControl('Title').value='Foobar'
    >>> browser.getControl('Description').value='Lorem Ipsum'
    >>> browser.getControl('Save').click()

test view:

create a contact:

    >>> browser.open('http://nohost/plone/opengever.contact.contactfolder/folder_factories')
    >>> browser.getControl('Contact').click()
    >>> browser.getControl('Add').click()

    >>> browser.url
    'http://nohost/plone/opengever.contact.contactfolder/++add++opengever.contact.contact'
    >>> browser.getControl('Firstname').value = 'lorem'
    >>> browser.getControl('Save').click()

    >>> browser.url
    'http://nohost/plone/opengever.contact.contactfolder/++add++opengever.contact.contact'
    >>> browser.getControl('Firstname').value = 'testi'
    >>> browser.getControl('Lastname').value = 'testmann'
    >>> browser.getControl('Save').click()
    >>> browser.url
    'http://nohost/plone/opengever.contact.contactfolder/opengever.contact.contact/view'
    
    